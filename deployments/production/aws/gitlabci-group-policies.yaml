AWSTemplateFormatVersion: '2010-09-09'
Description: Create IAM group and associated policies for the user used in GitLab CI jobs

Metadata:
  AWS::CloudFormation::Interface:
    ParameterLabels:
      GroupName:
        default: Group name
      PoliciesBaseName:
        default: Policies base name

Parameters:
  GroupName:
    Description: Name of the group
    Type: String
    Default: GitLabCI

  PoliciesBaseName:
    Description: Base name of the policies
    Type: String
    Default: GitLabCIPolicy
    
Resources:   
  GitLabCIGroup:
    Type: AWS::IAM::Group
    Properties: 
      GroupName: !Ref GroupName

  CloudFormationStackPolicy:
    Type: AWS::IAM::ManagedPolicy
    Properties:      
      ManagedPolicyName: !Sub "${PoliciesBaseName}-CloudFormation"
      Groups: [!Ref 'GitLabCIGroup']
      PolicyDocument:
        Version: "2012-10-17"
        Statement:
        - Effect: Allow
          Action:
          - cloudformation:DeleteStackInstances
          - cloudformation:DetectStackDrift
          - cloudformation:CancelUpdateStack
          - cloudformation:UpdateStackInstances
          - cloudformation:ListStackSetOperations
          - cloudformation:ListStackInstances
          - cloudformation:UpdateTerminationProtection
          - cloudformation:DescribeStackResource
          - cloudformation:UpdateStackSet
          - cloudformation:CreateChangeSet
          - cloudformation:CreateStackInstances
          - cloudformation:DeleteChangeSet
          - cloudformation:ContinueUpdateRollback
          - cloudformation:ListStackSetOperationResults
          - cloudformation:DetectStackResourceDrift
          - cloudformation:DescribeStackEvents
          - cloudformation:DescribeStackSetOperation
          - cloudformation:UpdateStack
          - cloudformation:StopStackSetOperation
          - cloudformation:DescribeChangeSet
          - cloudformation:ExecuteChangeSet
          - cloudformation:ListStackResources
          - cloudformation:DescribeStackInstance
          - cloudformation:DescribeStackResources
          - cloudformation:SignalResource
          - cloudformation:DeleteStackSet
          - cloudformation:DescribeStacks
          - cloudformation:DescribeStackResourceDrifts
          - cloudformation:GetStackPolicy
          - cloudformation:DescribeStackSet
          - cloudformation:ListStackSets
          - cloudformation:CreateStack
          - cloudformation:GetTemplate
          - cloudformation:DeleteStack
          - cloudformation:ListChangeSets
          - cloudformation:CreateUploadBucket
          - cloudformation:EstimateTemplateCost
          - cloudformation:DescribeStackDriftDetectionStatus
          - cloudformation:ListExports
          - cloudformation:ListStacks
          - cloudformation:ListImports
          - cloudformation:DescribeAccountLimits
          - cloudformation:CreateStackSet
          - cloudformation:ValidateTemplate
          - cloudformation:GetTemplateSummary
          Resource: "*"

  VPCStackPolicy:
    Type: AWS::IAM::ManagedPolicy
    Properties:
      ManagedPolicyName: !Sub "${PoliciesBaseName}-VPC"
      Groups: [!Ref 'GitLabCIGroup']
      PolicyDocument:
        Version: '2012-10-17'
        Statement:
        - Effect: Allow
          Action:
          - ec2:AcceptVpcEndpointConnections
          - ec2:AllocateAddress
          - ec2:AssignIpv6Addresses
          - ec2:AssignPrivateIpAddresses
          - ec2:AssociateAddress
          - ec2:AssociateDhcpOptions
          - ec2:AssociateRouteTable
          - ec2:AssociateSubnetCidrBlock
          - ec2:AssociateVpcCidrBlock
          - ec2:AttachClassicLinkVpc
          - ec2:AttachInternetGateway
          - ec2:AttachNetworkInterface
          - ec2:AttachVpnGateway
          - ec2:AuthorizeSecurityGroupEgress
          - ec2:AuthorizeSecurityGroupIngress
          - ec2:CreateCustomerGateway
          - ec2:CreateDefaultSubnet
          - ec2:CreateDefaultVpc
          - ec2:CreateDhcpOptions
          - ec2:CreateEgressOnlyInternetGateway
          - ec2:CreateFlowLogs
          - ec2:CreateInternetGateway
          - ec2:CreateNatGateway
          - ec2:CreateNetworkAcl
          - ec2:CreateNetworkAcl
          - ec2:CreateNetworkAclEntry
          - ec2:CreateNetworkInterface
          - ec2:CreateNetworkInterfacePermission
          - ec2:CreateRoute
          - ec2:CreateRouteTable
          - ec2:CreateSecurityGroup
          - ec2:CreateSubnet
          - ec2:CreateTags
          - ec2:CreateVpc
          - ec2:CreateVpcEndpoint
          - ec2:CreateVpcEndpointConnectionNotification
          - ec2:CreateVpcEndpointServiceConfiguration
          - ec2:CreateVpcPeeringConnection
          - ec2:CreateVpnConnection
          - ec2:CreateVpnConnectionRoute
          - ec2:CreateVpnGateway
          - ec2:DeleteCustomerGateway
          - ec2:DeleteDhcpOptions
          - ec2:DeleteEgressOnlyInternetGateway
          - ec2:DeleteFlowLogs
          - ec2:DeleteInternetGateway
          - ec2:DeleteNatGateway
          - ec2:DeleteNetworkAcl
          - ec2:DeleteNetworkAclEntry
          - ec2:DeleteNetworkInterface
          - ec2:DeleteNetworkInterfacePermission
          - ec2:DeleteRoute
          - ec2:DeleteRouteTable
          - ec2:DeleteSecurityGroup
          - ec2:DeleteSubnet
          - ec2:DeleteTags
          - ec2:DeleteVpc
          - ec2:DeleteVpcEndpoints
          - ec2:DeleteVpcEndpointConnectionNotifications
          - ec2:DeleteVpcEndpointServiceConfigurations
          - ec2:DeleteVpcPeeringConnection
          - ec2:DeleteVpnConnection
          - ec2:DeleteVpnConnectionRoute
          - ec2:DeleteVpnGateway
          - ec2:DescribeAccountAttributes
          - ec2:DescribeAddresses
          - ec2:DescribeAvailabilityZones
          - ec2:DescribeClassicLinkInstances
          - ec2:DescribeCustomerGateways
          - ec2:DescribeDhcpOptions
          - ec2:DescribeEgressOnlyInternetGateways
          - ec2:DescribeFlowLogs
          - ec2:DescribeInstances
          - ec2:DescribeInternetGateways
          - ec2:DescribeKeyPairs
          - ec2:DescribeMovingAddresses
          - ec2:DescribeNatGateways
          - ec2:DescribeNetworkAcls
          - ec2:DescribeNetworkInterfaceAttribute
          - ec2:DescribeNetworkInterfacePermissions
          - ec2:DescribeNetworkInterfaces
          - ec2:DescribePrefixLists
          - ec2:DescribeRouteTables
          - ec2:DescribeSecurityGroupReferences
          - ec2:DescribeSecurityGroups
          - ec2:DescribeStaleSecurityGroups
          - ec2:DescribeSubnets
          - ec2:DescribeTags
          - ec2:DescribeVpcAttribute
          - ec2:DescribeVpcClassicLink
          - ec2:DescribeVpcClassicLinkDnsSupport
          - ec2:DescribeVpcEndpointConnectionNotifications
          - ec2:DescribeVpcEndpointConnections
          - ec2:DescribeVpcEndpoints
          - ec2:DescribeVpcEndpointServiceConfigurations
          - ec2:DescribeVpcEndpointServicePermissions
          - ec2:DescribeVpcEndpointServices
          - ec2:DescribeVpcPeeringConnections
          - ec2:DescribeVpcs
          - ec2:DescribeVpnConnections
          - ec2:DescribeVpnGateways
          - ec2:DetachClassicLinkVpc
          - ec2:DetachInternetGateway
          - ec2:DetachNetworkInterface
          - ec2:DetachVpnGateway
          - ec2:DisableVgwRoutePropagation
          - ec2:DisableVpcClassicLink
          - ec2:DisableVpcClassicLinkDnsSupport
          - ec2:DisassociateAddress
          - ec2:DisassociateRouteTable
          - ec2:DisassociateSubnetCidrBlock
          - ec2:DisassociateVpcCidrBlock
          - ec2:EnableVgwRoutePropagation
          - ec2:EnableVpcClassicLink
          - ec2:EnableVpcClassicLinkDnsSupport
          - ec2:ModifyNetworkInterfaceAttribute
          - ec2:ModifySubnetAttribute
          - ec2:ModifyVpcAttribute
          - ec2:ModifyVpcEndpoint
          - ec2:ModifyVpcEndpointConnectionNotification
          - ec2:ModifyVpcEndpointServiceConfiguration
          - ec2:ModifyVpcEndpointServicePermissions
          - ec2:ModifyVpcPeeringConnectionOptions
          - ec2:ModifyVpcTenancy
          - ec2:MoveAddressToVpc
          - ec2:RejectVpcEndpointConnections
          - ec2:RejectVpcPeeringConnection
          - ec2:ReleaseAddress
          - ec2:ReplaceNetworkAclAssociation
          - ec2:ReplaceNetworkAclEntry
          - ec2:ReplaceRoute
          - ec2:ReplaceRouteTableAssociation
          - ec2:ResetNetworkInterfaceAttribute
          - ec2:RestoreAddressToClassic
          - ec2:RevokeSecurityGroupEgress
          - ec2:RevokeSecurityGroupIngress
          - ec2:UnassignIpv6Addresses
          - ec2:UnassignPrivateIpAddresses
          - ec2:UpdateSecurityGroupRuleDescriptionsEgress
          - ec2:UpdateSecurityGroupRuleDescriptionsIngress
          Resource: "*"

  BastionStackPolicy:
    Type: AWS::IAM::ManagedPolicy
    Properties:
      ManagedPolicyName: !Sub "${PoliciesBaseName}-Bastion"
      Groups: [!Ref 'GitLabCIGroup']
      PolicyDocument:
        Version: '2012-10-17'
        Statement:
          - Effect: Allow
            Action:
              - autoscaling:*
              - ec2:Describe*
            Resource: "*"

  ECSStackPolicy:
    Type: AWS::IAM::ManagedPolicy
    Properties:
      ManagedPolicyName: !Sub "${PoliciesBaseName}-ECS"
      Groups: [!Ref 'GitLabCIGroup']
      PolicyDocument:
        Version: '2012-10-17'
        Statement:
        - Effect: Allow
          Action:
          - application-autoscaling:DeleteScalingPolicy
          - application-autoscaling:DeregisterScalableTarget
          - application-autoscaling:DescribeScalableTargets
          - application-autoscaling:DescribeScalingActivities
          - application-autoscaling:DescribeScalingPolicies
          - application-autoscaling:PutScalingPolicy
          - application-autoscaling:RegisterScalableTarget
          - appmesh:ListMeshes
          - appmesh:ListVirtualNodes
          - appmesh:DescribeVirtualNode
          - autoscaling:UpdateAutoScalingGroup
          - autoscaling:CreateAutoScalingGroup
          - autoscaling:CreateLaunchConfiguration
          - autoscaling:DeleteAutoScalingGroup
          - autoscaling:DeleteLaunchConfiguration
          - autoscaling:Describe*
          - cloudwatch:DescribeAlarms
          - cloudwatch:DeleteAlarms
          - cloudwatch:GetMetricStatistics
          - cloudwatch:PutMetricAlarm
          - sns:ListTopics
          - elasticloadbalancing:*
          - ecs:*
          - events:DescribeRule
          - events:DeleteRule
          - events:ListRuleNamesByTarget
          - events:ListTargetsByRule
          - events:PutRule
          - events:PutTargets
          - events:RemoveTargets
          - iam:ListAttachedRolePolicies
          - iam:ListInstanceProfiles
          - iam:ListRoles
          - logs:CreateLogGroup
          - logs:DescribeLogGroups
          - logs:FilterLogEvents
          - logs:PutRetentionPolicy
          - logs:DeleteLogGroup
          - route53:GetHostedZone
          - route53:ListHostedZonesByName
          - route53:CreateHostedZone
          - route53:DeleteHostedZone
          - route53:GetHealthCheck
          - servicediscovery:CreatePrivateDnsNamespace
          - servicediscovery:CreateService
          - servicediscovery:GetNamespace
          - servicediscovery:GetOperation
          - servicediscovery:GetService
          - servicediscovery:ListNamespaces
          - servicediscovery:ListServices
          - servicediscovery:UpdateService
          - servicediscovery:DeleteService
          Resource:
          - "*"
        - Effect: Allow
          Action:
          - ssm:GetParametersByPath
          - ssm:GetParameters
          - ssm:GetParameter
          Resource: arn:aws:ssm:*:*:parameter/aws/service/ecs*
        - Effect: Allow
          Action:
          - ec2:DeleteInternetGateway
          - ec2:DeleteRoute
          - ec2:DeleteRouteTable
          - ec2:DeleteSecurityGroup
          Resource:
          - "*"
        - Action: iam:PassRole
          Effect: Allow
          Resource:
          - "*"
          Condition:
            StringLike:
              iam:PassedToService: ecs-tasks.amazonaws.com
        - Action: iam:PassRole
          Effect: Allow
          Resource:
          - arn:aws:iam::*:role/*
          Condition:
            StringLike:
              iam:PassedToService:
              - ec2.amazonaws.com
              - ec2.amazonaws.com.cn
        - Action: iam:PassRole
          Effect: Allow
          Resource:
          - arn:aws:iam::*:role/*
          Condition:
            StringLike:
              iam:PassedToService:
              - application-autoscaling.amazonaws.com
              - application-autoscaling.amazonaws.com.cn
        - Effect: Allow
          Action: iam:CreateServiceLinkedRole
          Resource: "*"
          Condition:
            StringLike:
              iam:AWSServiceName:
              - ecs.amazonaws.com
              - ecs.application-autoscaling.amazonaws.com
              - autoscaling.amazonaws.com

  ECRStackPolicy:
    Type: AWS::IAM::ManagedPolicy
    Properties:
      ManagedPolicyName: !Sub "${PoliciesBaseName}-ECR"
      Groups: [!Ref 'GitLabCIGroup']
      PolicyDocument:
        Version: "2012-10-17"
        Statement:
        - Effect: Allow
          Action:
          - ecr:GetAuthorizationToken
          - ecr:BatchCheckLayerAvailability
          - ecr:GetDownloadUrlForLayer
          - ecr:GetRepositoryPolicy
          - ecr:DescribeRepositories
          - ecr:ListImages
          - ecr:DescribeImages
          - ecr:BatchGetImage
          - ecr:InitiateLayerUpload
          - ecr:UploadLayerPart
          - ecr:CompleteLayerUpload
          - ecr:PutImage
          Resource: "*"

  RDSStackPolicy:
    Type: AWS::IAM::ManagedPolicy
    Properties:
      ManagedPolicyName: !Sub "${PoliciesBaseName}-RDS"
      Groups: [!Ref 'GitLabCIGroup']
      PolicyDocument:
        Version: '2012-10-17'
        Statement:
        - Effect: Allow
          Action:
          - rds:StartDBCluster
          - rds:DeleteGlobalCluster
          - rds:RestoreDBInstanceFromS3
          - rds:ResetDBParameterGroup
          - rds:DescribeGlobalClusters
          - rds:PurchaseReservedDBInstancesOffering
          - rds:CreateDBSubnetGroup
          - rds:ModifyDBParameterGroup
          - rds:DownloadDBLogFilePortion
          - rds:DescribeSourceRegions
          - rds:AddRoleToDBCluster
          - rds:DeleteDBInstance
          - rds:DeleteDBInstanceAutomatedBackup
          - rds:DescribeReservedDBInstances
          - rds:CreateDBSnapshot
          - rds:DeleteDBSecurityGroup
          - rds:CreateEventSubscription
          - rds:DescribeDBClusterBacktracks
          - rds:DescribeReservedDBInstancesOfferings
          - rds:DeleteOptionGroup
          - rds:FailoverDBCluster
          - rds:AddRoleToDBInstance
          - rds:CreateDBInstance
          - rds:DescribeDBInstances
          - rds:DescribeEngineDefaultClusterParameters
          - rds:DescribeEventCategories
          - rds:DeleteDBCluster
          - rds:DescribeEvents
          - rds:AddTagsToResource
          - rds:ModifyEventSubscription
          - rds:DescribeDBSnapshotAttributes
          - rds:ModifyDBSnapshot
          - rds:DeleteDBClusterSnapshot
          - rds:ListTagsForResource
          - rds:CreateDBCluster
          - rds:DeleteDBClusterParameterGroup
          - rds:ApplyPendingMaintenanceAction
          - rds:BacktrackDBCluster
          - rds:RemoveRoleFromDBInstance
          - rds:ModifyDBSubnetGroup
          - rds:DescribeDBInstanceAutomatedBackups
          - rds:RemoveRoleFromDBCluster
          - rds:DescribeEngineDefaultParameters
          - rds:CreateGlobalCluster
          - rds:CreateOptionGroup
          - rds:AddSourceIdentifierToSubscription
          - rds:CopyDBParameterGroup
          - rds:ModifyDBClusterParameterGroup
          - rds:ModifyDBInstance
          - rds:ModifyDBClusterSnapshotAttribute
          - rds:CopyDBClusterParameterGroup
          - rds:CreateDBClusterEndpoint
          - rds:StopDBCluster
          - rds:CreateDBParameterGroup
          - rds:DescribeDBSnapshots
          - rds:DeleteDBSnapshot
          - rds:DescribeDBSecurityGroups
          - rds:RemoveFromGlobalCluster
          - rds:PromoteReadReplica
          - rds:StartDBInstance
          - rds:StopActivityStream
          - rds:RestoreDBClusterFromS3
          - rds:DeleteDBSubnetGroup
          - rds:DescribeValidDBInstanceModifications
          - rds:RestoreDBInstanceFromDBSnapshot
          - rds:DescribeOrderableDBInstanceOptions
          - rds:ModifyDBClusterEndpoint
          - rds:ModifyDBCluster
          - rds:DeleteDBParameterGroup
          - rds:CreateDBClusterSnapshot
          - rds:DescribeCertificates
          - rds:CreateDBClusterParameterGroup
          - rds:ModifyDBSnapshotAttribute
          - rds:RemoveTagsFromResource
          - rds:PromoteReadReplicaDBCluster
          - rds:DescribeOptionGroups
          - rds:ModifyOptionGroup
          - rds:RestoreDBClusterFromSnapshot
          - rds:DescribeDBSubnetGroups
          - rds:DescribeDBEngineVersions
          - rds:StartActivityStream
          - rds:DescribePendingMaintenanceActions
          - rds:DescribeDBParameterGroups
          - rds:DeleteEventSubscription
          - rds:RemoveSourceIdentifierFromSubscription
          - rds:DeleteDBClusterEndpoint
          - rds:RevokeDBSecurityGroupIngress
          - rds:DescribeDBParameters
          - rds:ModifyCurrentDBClusterCapacity
          - rds:ResetDBClusterParameterGroup
          - rds:RestoreDBClusterToPointInTime
          - rds:DescribeDBClusterSnapshotAttributes
          - rds:DescribeDBClusterParameters
          - rds:DescribeEventSubscriptions
          - rds:CopyDBSnapshot
          - rds:CopyDBClusterSnapshot
          - rds:DescribeDBLogFiles
          - rds:StopDBInstance
          - rds:CopyOptionGroup
          - rds:CreateDBSecurityGroup
          - rds:RebootDBInstance
          - rds:ModifyGlobalCluster
          - rds:DescribeDBClusterSnapshots
          - rds:DescribeOptionGroupOptions
          - rds:DownloadCompleteDBLogFile
          - rds:DescribeDBClusterEndpoints
          - rds:CreateDBInstanceReadReplica
          - rds:DescribeAccountAttributes
          - rds:DescribeDBClusters
          - rds:DescribeDBClusterParameterGroups
          - rds:RestoreDBInstanceToPointInTime
          - cloudwatch:DescribeAlarms
          - cloudwatch:GetMetricStatistics
          - cloudwatch:PutMetricAlarm
          - cloudwatch:DeleteAlarms
          - sns:ListSubscriptions
          - sns:ListTopics
          - sns:Publish
          - logs:DescribeLogStreams
          - logs:GetLogEvents
          Resource: "*"

  IAMPolicy:
    Type: AWS::IAM::ManagedPolicy
    Properties:
      ManagedPolicyName: !Sub "${PoliciesBaseName}-IAM"
      Groups: [!Ref 'GitLabCIGroup']
      PolicyDocument:
        Version: '2012-10-17'
        Statement:
        - Effect: Allow
          Action:
          - iam:UpdateAssumeRolePolicy
          - iam:GetPolicyVersion
          - iam:GetAccountPasswordPolicy
          - iam:ListRoleTags
          - iam:ListServerCertificates
          - iam:GenerateServiceLastAccessedDetails
          - iam:CreateRole
          - iam:AttachRolePolicy
          - iam:ListServiceSpecificCredentials
          - iam:PutRolePolicy
          - iam:ListSigningCertificates
          - iam:ListVirtualMFADevices
          - iam:AddRoleToInstanceProfile
          - iam:ListSSHPublicKeys
          - iam:SimulateCustomPolicy
          - iam:DetachRolePolicy
          - iam:SimulatePrincipalPolicy
          - iam:ListAttachedRolePolicies
          - iam:DeleteServerCertificate
          - iam:ListRolePolicies
          - iam:GetAccountAuthorizationDetails
          - iam:GetCredentialReport
          - iam:ListPolicies
          - iam:UpdateServiceSpecificCredential
          - iam:GetServerCertificate
          - iam:GetRole
          - iam:ListSAMLProviders
          - iam:GetPolicy
          - iam:GetAccessKeyLastUsed
          - iam:ListEntitiesForPolicy
          - iam:DeleteRole
          - iam:UpdateRoleDescription
          - iam:UpdateServerCertificate
          - iam:GetUserPolicy
          - iam:ListGroupsForUser
          - iam:DeleteServiceLinkedRole
          - iam:GetGroupPolicy
          - iam:GetOpenIDConnectProvider
          - iam:GetRolePolicy
          - iam:GetAccountSummary
          - iam:GenerateCredentialReport
          - iam:UntagRole
          - iam:GetServiceLastAccessedDetailsWithEntities
          - iam:PutRolePermissionsBoundary
          - iam:TagRole
          - iam:ListPoliciesGrantingServiceAccess
          - iam:DeletePolicy
          - iam:DeleteSSHPublicKey
          - iam:ListMFADevices
          - iam:DeleteRolePermissionsBoundary
          - iam:GetServiceLastAccessedDetails
          - iam:GetGroup
          - iam:GetContextKeysForPrincipalPolicy
          - iam:GetOrganizationsAccessReport
          - iam:GetServiceLinkedRoleDeletionStatus
          - iam:ListInstanceProfilesForRole
          - iam:PassRole
          - iam:GenerateOrganizationsAccessReport
          - iam:DeleteRolePolicy
          - iam:ListAttachedUserPolicies
          - iam:ListAttachedGroupPolicies
          - iam:CreatePolicyVersion
          - iam:GetSAMLProvider
          - iam:ListAccessKeys
          - iam:DeleteAccountPasswordPolicy
          - iam:GetInstanceProfile
          - iam:ListGroupPolicies
          - iam:GetSSHPublicKey
          - iam:PutUserPermissionsBoundary
          - iam:ListRoles
          - iam:ListUserPolicies
          - iam:ListInstanceProfiles
          - iam:TagUser
          - iam:CreatePolicy
          - iam:UntagUser
          - iam:GetContextKeysForCustomPolicy
          - iam:CreateServiceLinkedRole
          - iam:ListPolicyVersions
          - iam:ListOpenIDConnectProviders
          - iam:ListAccountAliases
          - iam:ListUsers
          - iam:UpdateRole
          - iam:GetUser
          - iam:ListGroups
          - iam:UpdateSigningCertificate
          - iam:DeleteServiceSpecificCredential
          - iam:GetLoginProfile
          - iam:DeletePolicyVersion
          - iam:SetDefaultPolicyVersion
          - iam:ListUserTags
          Resource: "*"

        - Effect: Allow
          Action: iam:CreateServiceLinkedRole
          Resource: "*"
          Condition:
            StringLike:
              iam:AWSServiceName:
              - rds.amazonaws.com
              - rds.application-autoscaling.amazonaws.com

  WAFStackPolicy:
    Type: AWS::IAM::ManagedPolicy
    Properties:
      ManagedPolicyName: !Sub "${PoliciesBaseName}-WAF"
      Groups: [!Ref 'GitLabCIGroup']
      PolicyDocument:
        Version: '2012-10-17'
        Statement:
        - Effect: Allow
          Action:
          #- waf:*
          - waf-regional:*
          - elasticloadbalancing:SetWebACL
          Resource: "*"

Outputs:
  GroupARN:
    Value: !GetAtt GitLabCIGroup.Arn

  CloudFormationStackPolicyName:
    Value: !Ref CloudFormationStackPolicy

  VPCStackPolicyName:
    Value: !Ref VPCStackPolicy
  
  BastionStackPolicyName:
    Value: !Ref BastionStackPolicy

  ECSStackPolicyName:
    Value: !Ref ECSStackPolicy

  ECRStackPolicyName:
    Value: !Ref ECRStackPolicy

  RDSStackPolicyName:
    Value: !Ref RDSStackPolicy

  IAMPolicyName:
    Value: !Ref IAMPolicy

  WAFStackPolicyName:
    Value: !Ref WAFStackPolicy